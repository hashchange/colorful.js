// Colorful.js, v0.1.0
// Copyright (c) 2016 Michael Heim, Zeilenwechsel.de
// Distributed under MIT license
// http://github.com/hashchange/colorful.js


!function(a,b){"use strict";var c="object"==typeof exports&&exports&&!exports.nodeType&&"object"==typeof module&&module&&!module.nodeType;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(["exports","underscore"],b):c?b(exports,require("underscore")):b(a,_)}(this,function(a,_){"use strict";function b(a,b,c){var d;return"undefined"==typeof c||0===+c?Math[a](b):(b=+b,c=+c,isNaN(b)||"number"!=typeof c||c%1!==0?NaN:(d=-c,b=b.toString().split("e"),b=Math[a](+(b[0]+"e"+(b[1]?+b[1]-d:-d))),b=b.toString().split("e"),+(b[0]+"e"+(b[1]?+b[1]+d:d))))}function c(a,b,c){var d="#"===a,e=d?"":"\\s*,\\s*",f=d?"":"\\s*\\)",g=[b,b,b];return c&&g.push(r),d||(a+="\\s*\\(\\s*"),new RegExp("^\\s*"+a+g.join(e)+f+"\\s*$")}function d(a,b){var c=a.match(b);return{isMatch:!!c,rgb:c&&[c[1],c[2],c[3]],a:c&&c[4]}}function e(a){var b=d(a,z);return b.isMatch||(b=d(a,A)),b.isMatch||(b=d(a,B),b.isMatch||(b=d(a,C)),b.isMatch&&(b.rgb=_.map(b.rgb,function(a){return a+a}))),b.isMatch&&(b.rgb=_.map(b.rgb,function(a){return parseInt(a,16)})),b}function f(a){var b=d(a,D);return b.isMatch||(b=d(a,E)),b.isMatch&&(b.rgb=_.map(b.rgb,function(a){return+a})),b}function g(a){var b=d(a,F);return b.isMatch||(b=d(a,G)),b.isMatch&&(b.rgb=_.map(b.rgb,function(a){return 255*a/100})),b}function h(a){var b=d(a,H);return b.isMatch&&(b.rgb=_.map(b.rgb,function(a){return 255*a})),b}function i(a){var b,c,d,i,j;return a instanceof o?b=_.clone(a._rawColor):!_.isArray(a)||3!==a.length&&4!==a.length?_.isObject(a)?(d=_.keys(a),3!==_.intersection(["r","g","b"],d).length&&4!==_.intersection(["r","g","b","a"],d).length||(i=[a.r,a.g,a.b],4===d.length&&i.push(a.a),c=(4===i.length?"rgba":"rgb")+"("+i.join(", ")+")",b=new o(c)._rawColor)):_.isString(a)&&(p[a]?b=_.object(["r","g","b"],p[a]):"transparent"===a.toLowerCase()?b={r:0,g:0,b:0,a:0}:(j=e(a),j.isMatch||(j=f(a)),j.isMatch||(j=g(a)),j.isMatch||(j=h(a)),j.isMatch&&(b=_.object(["r","g","b"],j.rgb),b.a=j.a))):(c=(4===a.length?"rgba":"rgb")+"("+a.join(", ")+")",b=new o(c)._rawColor),b&&void 0!==b.a&&(b.a=+b.a),b&&void 0===b.a&&(b.a=1),b}function j(a,b){var c=b&&(b.upperCase||b.lowerCase===!1),d=I.round(a).toString(16);return d.length<2&&(d="0"+d),c?d.toUpperCase():d.toLowerCase()}function k(a){return I.round(a)}function l(a){var b=a+"";return b=b.replace(/^(\d+)(?:\.(\d+))?e-(\d+)$/i,function(b,c,d,e){var f=+e+(d?d.length:0);return f>20&&(I.round(a,20),f=20),a.toFixed(f)})}function m(a,b){var c=b&&b.precision||0,d=100*a/255;return"max"!==c&&(d=I.round(d,c)),l(d)+"%"}function n(a){return a/255}function o(a){return this instanceof o?(this._input=a,void(this._rawColor=i(a))):new o(a)}var p={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},q="(?:1(?:\\.0+)?|0?\\.\\d+|0)",r="("+q+")",s="(255|25[0-4]|2[0-4]\\d|(?:[0-1]?\\d)?\\d)",t="(100(?:\\.0+)?|\\d{0,2}(?:\\.\\d+)|\\d{1,2})\\s*%",u="([a-f\\d]{2})",v="([A-F\\d]{2})",w="([a-f\\d])",x="([A-F\\d])",y=r,z=c("#",u),A=c("#",v),B=c("#",w),C=c("#",x),D=c("rgb",s),E=c("rgba",s,!0),F=c("rgb",t),G=c("rgba",t,!0),H=c("AgColor",y,!0),I={};I.round=function(a,c){return b("round",a,c)},I.floor=function(a,c){return b("floor",a,c)},I.ceil=function(a,c){return b("ceil",a,c)},_.extend(o.prototype,{isColor:function(){return!_.isUndefined(this._rawColor)},ensureColor:function(){if(!this.isColor())throw new Error("Color.ensureColor: The color object does not represent a valid color. It was created from the value "+this._input);return!0},ensureOpaque:function(){if(this.ensureColor(),!this.isOpaque())throw new Error("Color.ensureOpaque: Color is required to be opaque, but it is not (a = "+this._rawColor.a+")");return!0},ensureTransparent:function(){if(this.ensureColor(),!this.isTransparent())throw new Error("Color.ensureTransparent: Color is required to be transparent, but it is not");return!0},isOpaque:function(){return this.isColor()&&1===this._rawColor.a},isTransparent:function(){return this.isColor()&&this._rawColor.a<1},asHex:function(a){var b=a&&a.prefix===!1?"":"#";return this.ensureOpaque(),b+_.map(this._getRawArrayRgb(),_.partial(j,_,a)).join("")},asHexUC:function(){return this.asHex({upperCase:!0})},asHexLC:function(){return this.asHex({lowerCase:!0})},asRGB:function(){return this.ensureOpaque(),"rgb("+this.asArrayRGB().join(", ")+")"},asPercentRGB:function(a){return this.ensureOpaque(),"rgb("+_.map(this._getRawArrayRgb(),_.partial(m,_,a)).join(", ")+")"},asRGBA:function(){return this.ensureColor(),"rgba("+this._asArrayRgb().concat(l(this._rawColor.a)).join(", ")+")"},asPercentRGBA:function(a){return this.ensureColor(),"rgba("+_.map(this._getRawArrayRgb(),_.partial(m,_,a)).concat(l(this._rawColor.a)).join(", ")+")"},asAgColor:function(){return this.ensureColor(),"AgColor( "+_.map(this._asArrayAgColor(),l).join(", ")+" )"},asArrayRGB:function(){return this.ensureOpaque(),this._asArrayRgb()},asArrayRGBA:function(){return this.ensureColor(),this._asArrayRgb().concat(this._rawColor.a)},equals:function(a,b){var c,d,e,f,g=b&&b.tolerance||0;return a instanceof o||(a=new o(a)),d=this.isColor()&&a.isColor(),c=d&&this.asRGBA()===a.asRGBA(),d&&!c&&g>0&&(e=_.zip(this.asArrayRGBA(),a.asArrayRGBA()),f=e.pop(),c=_.every(e,function(a){return a[0]<=a[1]+g&&a[0]>=a[1]-g}),c=c&&f[0]===f[1]),c},strictlyEquals:function(a){return a instanceof o||(a=new o(a)),this.isColor()&&a.isColor()&&this.asPercentRGBA()===a.asPercentRGBA()},_asArrayAgColor:function(){return _.map(this._getRawArrayRgb(),n).concat(this._rawColor.a)},_asArrayRgb:function(){return _.map(this._getRawArrayRgb(),k)},_getRawArrayRgb:function(){return[this._rawColor.r,this._rawColor.g,this._rawColor.b]}}),a.Color=o});
//# sourceMappingURL=colorful.min.js.map